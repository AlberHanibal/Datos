drop table TABLAALUMNOS;
drop table TABLAASIGNATURAS;
drop table TABLACURSO;

drop type TALUMNO;
drop type TAB_ASIG_NOTAS;
drop type TASIG_NOTA;
drop type TTELALUMNO;
drop type TNOTAS;
drop type TDIRECALUMNO;
drop type TCURSO;
drop type TASIGNATURA;



create or replace NONEDITIONABLE TYPE TASIGNATURA AS OBJECT 
(COD_ASIG VARCHAR2(5),NOMBRE_ASIG VARCHAR2(25),TIPO VARCHAR2(10));
/

create or replace NONEDITIONABLE TYPE TCURSO AS OBJECT 
(ID_CURSO NUMBER,DESCRIPCION VARCHAR2(30),NIVEL NUMBER,TURNO VARCHAR2(15));
/

create or replace NONEDITIONABLE TYPE TDIRECALUMNO AS OBJECT 
(NOMBREDIREC VARCHAR2(50),POBLACION VARCHAR2(50),COD_POSTAL VARCHAR2(5),PROVINCIA VARCHAR2(40));
/

create or replace NONEDITIONABLE TYPE TNOTAS AS VARRAY(5) OF NUMBER;
/

create or replace NONEDITIONABLE TYPE TTELALUMNO AS VARRAY(2) OF VARCHAR2(15);
/

create or replace NONEDITIONABLE TYPE TASIG_NOTA AS OBJECT 
(COD_ASIG REF TASIGNATURA,NOTAS TNOTAS);
/

create or replace NONEDITIONABLE TYPE TAB_ASIG_NOTAS 
AS TABLE OF TASIG_NOTA;
/

create or replace NONEDITIONABLE TYPE TALUMNO AS OBJECT 
(DNI VARCHAR2(10),NOMBRE VARCHAR2(30),DIREC TDIRECALUMNO,TEL TTELALUMNO,FECHA_NAC DATE,ID_CURSO REF TCURSO,ASIG_NOTAS TAB_ASIG_NOTAS);
/

CREATE TABLE TABLAASIGNATURAS OF TASIGNATURA (
COD_ASIG PRIMARY KEY);
/

CREATE TABLE TABLACURSO OF TCURSO (
ID_CURSO PRIMARY KEY);
/

CREATE TABLE TABLAALUMNOS OF TALUMNO (
DNI PRIMARY KEY) NESTED TABLE ASIG_NOTAS STORE AS TABLA_ASIG_NOTAS;
/
